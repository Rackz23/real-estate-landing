<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Agent Jane Doe – Miami Beach Realtor</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Landbot Chat Widget Script -->
  <script SameSite="None; Secure" type="module" src="https://cdn.landbot.io/landbot-3/landbot-3.0.0.mjs"></script>
  <style>
    /* Ensure the chat container floats above all other elements */
    #chatbot-container {
      position: fixed;
      bottom: 80px;       /* Push up above the button */
      right: 20px;
      width: 350px;       /* Adjust width as desired */
      height: 500px;      /* Adjust height as desired */
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      border-radius: 12px;
      overflow: hidden;
      display: none;      /* Hidden by default */
      z-index: 9999;      /* Make sure it’s on top */
    }
    /* Style for the floating chat button */
    #chat-launcher {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #2563eb; /* Tailwind blue-600 */
      color: white;
      padding: 0.75rem 1.25rem;   /* 12px 20px approx */
      border-radius: 9999px;     /* Full pill shape */
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 9999;
      transition: background-color 0.2s ease;
    }
    #chat-launcher:hover {
      background-color: #1e40af; /* Tailwind blue-800 on hover */
    }
  </style>
</head>
<body class="bg-gray-100 text-gray-800">

  <!-- (…rest of your page: Hero, About, Listings, Testimonials, Contact…) -->

  <!-- 1) Floating Chatbot Container (initially hidden) -->
  <div id="chatbot-container">
    <div id="myLandbot" style="width: 100%; height: 100%;"></div>
  </div>

  <!-- 2) Floating “Chat with Us” Button -->
  <button id="chat-launcher" aria-label="Chat with us">
    Chat with Us
  </button>

  <!-- 3) Initialize Landbot & Toggle Visibility Logic -->
  <script type="module">
    // Initialize the Landbot container once (on page load)
    let landbotInstance = null;
    function initLandbot() {
      if (landbotInstance) return; // already initialized
      landbotInstance = new Landbot.Container({
        container: '#myLandbot',
        configUrl: 'https://storage.googleapis.com/landbot.site/v3/H-2961275-J80BNAR28BYS8LHD/index.json',
      });
    }

    // Grab references to DOM elements
    const chatContainer = document.getElementById('chatbot-container');
    const chatLauncher = document.getElementById('chat-launcher');

    // Toggle function: show/hide Landbot container
    function toggleChat() {
      if (chatContainer.style.display === 'none' || chatContainer.style.display === '') {
        // Show it
        chatContainer.style.display = 'block';
        initLandbot(); // initialize only when first opened
      } else {
        // Hide it
        chatContainer.style.display = 'none';
      }
    }

    // Attach click listener to the button
    chatLauncher.addEventListener('click', toggleChat);
  </script>

  <!-- Footer -->
  <footer class="bg-blue-600 py-8">
    <div class="container mx-auto px-6 text-white text-center">
      <p class="mb-4">© 2025 Jane Doe • Licensed Realtor® • Miami Beach, FL</p>
      <div class="flex justify-center space-x-6">
        <a href="#" class="hover:underline">Privacy Policy</a>
        <a href="#" class="hover:underline">Terms of Service</a>
        <a href="#" class="hover:underline">Facebook</a>
        <a href="#" class="hover:underline">Instagram</a>
      </div>
    </div>
  </footer>
</body>
</html>
